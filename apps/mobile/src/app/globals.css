@import "tailwindcss";

/* ===== Tailwind Theme: Map utility names to CSS vars ===== */
@theme {
  --color-body-bg: var(--body-bg);
  --color-screen-bg: var(--screen-bg);
  --color-surface: var(--surface);
  --color-surface-hover: var(--surface-hover);
  --color-surface-border: var(--surface-border);
  --color-teal: var(--teal);
  --color-orange: var(--orange);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-dim: var(--text-dim);
  --color-card-bg: var(--card-bg);
  --color-card-border: var(--card-border);
  --color-chip-bg: var(--chip-bg);
  --color-chip-border: var(--chip-border);
  --color-nav-bg: var(--nav-bg);
  --color-nav-border: var(--nav-border);
  --color-badge-bg: var(--badge-bg);
  --color-badge-color: var(--badge-color);
  --color-green-bg: var(--green-bg);
  --color-blue-bg: var(--blue-bg);
  --color-red-bg: var(--red-bg);
  --color-purple-bg: var(--purple-bg);
  --color-yellow-bg: var(--yellow-bg);
  --font-display: "Bricolage Grotesque", "Plus Jakarta Sans", sans-serif;
  --font-body: "Plus Jakarta Sans", -apple-system, sans-serif;
  --radius-tile: 22px;
  --radius-chip: 16px;
}

/* ===== Reset ===== */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

/* ===== Theme: Dark ===== */
[data-theme="dark"] {
  --body-bg: #0a0a0e;
  --screen-bg: #121216;
  --screen-gradient: none;
  --surface: rgba(255, 255, 255, 0.04);
  --surface-hover: rgba(255, 255, 255, 0.06);
  --surface-border: rgba(255, 255, 255, 0.06);
  --teal: #4e9da6;
  --orange: #e8923a;
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.5);
  --text-dim: rgba(255, 255, 255, 0.35);
  --card-bg: rgba(255, 255, 255, 0.03);
  --card-border: rgba(255, 255, 255, 0.06);
  --card-blur: 0px;
  --chip-bg: rgba(255, 255, 255, 0.06);
  --chip-border: rgba(255, 255, 255, 0.08);
  --chip-blur: 0px;
  --icon-radius: 50%;
  --nav-bg: rgba(18, 18, 22, 0.85);
  --nav-blur: blur(20px);
  --nav-border: rgba(255, 255, 255, 0.06);
  --badge-bg: var(--orange);
  --badge-color: #fff;
  --badge-border: none;
  --badge-shadow: 0 0 8px rgba(232, 146, 58, 0.3);
  --cat-card-before-opacity: 0;
  --green-bg: rgba(107, 191, 107, 0.12);
  --green-glow: 0 0 20px rgba(107, 191, 107, 0.3);
  --blue-bg: rgba(91, 168, 213, 0.12);
  --blue-glow: 0 0 20px rgba(91, 168, 213, 0.3);
  --red-bg: rgba(224, 123, 123, 0.12);
  --red-glow: 0 0 20px rgba(224, 123, 123, 0.3);
  --purple-bg: rgba(160, 123, 204, 0.12);
  --purple-glow: 0 0 20px rgba(160, 123, 204, 0.3);
  --yellow-bg: rgba(232, 196, 74, 0.12);
  --yellow-glow: 0 0 20px rgba(232, 196, 74, 0.3);
  --add-tile-border: dashed;
}

/* ===== Theme: Glass ===== */
[data-theme="glass"] {
  --body-bg: #1a1a2e;
  --screen-bg: #0a0a12;
  --screen-gradient:
    radial-gradient(ellipse at 20% 80%, rgba(120, 50, 180, 0.35) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(50, 120, 180, 0.3) 0%, transparent 60%),
    radial-gradient(ellipse at 50% 50%, rgba(180, 50, 120, 0.2) 0%, transparent 60%),
    radial-gradient(ellipse at 10% 20%, rgba(139, 92, 246, 0.2) 0%, transparent 50%),
    radial-gradient(ellipse at 90% 80%, rgba(59, 130, 246, 0.18) 0%, transparent 50%);
  --surface: rgba(255, 255, 255, 0.06);
  --surface-hover: rgba(255, 255, 255, 0.09);
  --surface-border: rgba(255, 255, 255, 0.1);
  --teal: #4e9da6;
  --orange: #e8923a;
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.5);
  --text-dim: rgba(255, 255, 255, 0.35);
  --card-bg: rgba(255, 255, 255, 0.06);
  --card-border: rgba(255, 255, 255, 0.1);
  --card-blur: blur(20px);
  --chip-bg: rgba(255, 255, 255, 0.06);
  --chip-border: rgba(255, 255, 255, 0.08);
  --chip-blur: blur(12px);
  --icon-radius: 14px;
  --nav-bg: rgba(10, 10, 18, 0.7);
  --nav-blur: blur(24px);
  --nav-border: rgba(255, 255, 255, 0.06);
  --badge-bg: rgba(232, 146, 58, 0.2);
  --badge-color: #e8923a;
  --badge-border: 1px solid rgba(232, 146, 58, 0.25);
  --badge-shadow: none;
  --cat-card-before-opacity: 1;
  --green-bg: rgba(80, 180, 80, 0.15);
  --green-glow: 0 0 20px rgba(80, 180, 80, 0.2);
  --blue-bg: rgba(59, 130, 246, 0.15);
  --blue-glow: 0 0 20px rgba(59, 130, 246, 0.2);
  --red-bg: rgba(236, 72, 153, 0.15);
  --red-glow: 0 0 20px rgba(236, 72, 153, 0.2);
  --purple-bg: rgba(139, 92, 246, 0.15);
  --purple-glow: 0 0 20px rgba(139, 92, 246, 0.2);
  --yellow-bg: rgba(220, 180, 60, 0.15);
  --yellow-glow: 0 0 20px rgba(220, 180, 60, 0.2);
  --add-tile-border: dashed;
}

/* ===== Body ===== */
body {
  background-color: var(--screen-bg);
  background-image: var(--screen-gradient);
  min-height: 100vh;
  font-family: "Plus Jakarta Sans", -apple-system, sans-serif;
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ===== Scrollbar hiding ===== */
::-webkit-scrollbar {
  display: none;
}
html {
  scrollbar-width: none;
}

/* ===== Transitions ===== */
body {
  transition: background 0.4s ease, background-color 0.4s ease, color 0.3s ease;
}

/* ===== @utility: Tile glow ::before (glass theme) ===== */
@utility tile-glow-base {
  &::before {
    content: "";
    position: absolute;
    top: -30%;
    left: -20%;
    width: 160px;
    height: 160px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 0;
    opacity: var(--cat-card-before-opacity);
    transition: opacity 0.4s ease;
  }
}

@utility tile-glow-green {
  &::before {
    background: radial-gradient(circle, rgba(80, 180, 80, 0.15) 0%, transparent 70%);
  }
}

@utility tile-glow-blue {
  &::before {
    background: radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, transparent 70%);
  }
}

@utility tile-glow-red {
  &::before {
    background: radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, transparent 70%);
  }
}

@utility tile-glow-purple {
  &::before {
    background: radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%);
  }
}

@utility tile-glow-yellow {
  &::before {
    background: radial-gradient(circle, rgba(220, 180, 60, 0.15) 0%, transparent 70%);
  }
}

/* ===== @utility: Icon background + glow combos ===== */
@utility icon-bg-green {
  background: var(--green-bg);
  box-shadow: var(--green-glow);
}

@utility icon-bg-blue {
  background: var(--blue-bg);
  box-shadow: var(--blue-glow);
}

@utility icon-bg-red {
  background: var(--red-bg);
  box-shadow: var(--red-glow);
}

@utility icon-bg-purple {
  background: var(--purple-bg);
  box-shadow: var(--purple-glow);
}

@utility icon-bg-yellow {
  background: var(--yellow-bg);
  box-shadow: var(--yellow-glow);
}

/* ===== @utility: Backdrop-filter (vars already contain blur()) ===== */
@utility card-blur {
  backdrop-filter: var(--card-blur);
  -webkit-backdrop-filter: var(--card-blur);
}

@utility chip-blur {
  backdrop-filter: var(--chip-blur);
  -webkit-backdrop-filter: var(--chip-blur);
}

@utility nav-blur {
  backdrop-filter: var(--nav-blur);
  -webkit-backdrop-filter: var(--nav-blur);
}

/* ===== @utility: BottomNav active indicator ::after ===== */
@utility nav-active-indicator {
  &::after {
    content: "";
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 24px;
    height: 3px;
    background: var(--teal);
    border-radius: 2px;
    box-shadow: 0 0 15px rgba(78, 157, 166, 0.4), 0 0 30px rgba(78, 157, 166, 0.15);
  }
}
